{"version":3,"sources":["firebase.app.ts","routes/auth.tsx","components/Nweet.tsx","routes/home.tsx","components/Navigation.tsx","routes/profile.tsx","components/Router.tsx","components/App.tsx","index.tsx"],"names":["firebaseAuth","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","firebaseInstance","firebaseFS","firestore","firebaseStorage","storage","Auth","useForm","mode","register","handleSubmit","formState","getValues","errors","useState","isCreating","setIsCreating","authError","setAuthError","onSubmit","a","email","password","password2","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","onSocialClick","event","name","target","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","className","method","ref","required","pattern","value","type","placeholder","minLength","maxLength","onClick","icon","faGoogle","faGithub","Nweet","id","creatorId","nweet","createdAt","imageUrl","setValue","watch","isEditing","setIsEditing","editText","setEditText","imagePath","setImagePath","getImageUrl","child","getDownloadURL","useEffect","onDeleteClick","window","confirm","currentUser","uid","delete","collection","doc","onEditDone","text","update","onChange","e","src","alt","faTrash","faEdit","Home","reset","nweets","setNweets","imageData","setImageData","files","fileName","uuidv4","fileRef","putString","add","Date","now","orderBy","onSnapshot","snapshot","docChanges","forEach","change","data","prev","filter","index","findIndex","accept","file","reader","FileReader","onloadend","ev","currentTarget","result","readAsDataURL","length","map","AppNavigation","displayName","photoUrl","to","faTwitter","style","backgroundImage","faUserAlt","Profile","setProfileText","profileText","inputName","setInputName","useRef","onNameChangeDone","Boolean","updateProfile","photoURL","signOut","current","fileReader","uploadTask","click","AppRouter","isLoggedIn","exact","path","from","path-","App","loggedIn","setLoggedIn","onAuthStateChanged","user","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad6d4d40.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTODOMAIN,\n  projectId: process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGINGSENDERID,\n  appId: process.env.REACT_APP_APPID,\n};\n// Initialize Firebase\nexport const firebaseApp = firebase.initializeApp(firebaseConfig);\nexport const firebaseAuth = firebase.auth();\nexport const firebaseInstance = firebase;\nexport const firebaseFS = firebase.firestore();\nexport const firebaseStorage = firebase.storage();\n","import { faGithub, faGoogle } from \"@fortawesome/free-brands-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { firebaseApp, firebaseAuth, firebaseInstance } from \"firebase.app\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\ninterface IAuthForm {\n  email: string;\n  password: string;\n  password2: string;\n}\n\nexport const Auth = () => {\n  const {\n    register,\n    formState,\n    handleSubmit,\n    getValues,\n    errors,\n  } = useForm<IAuthForm>({\n    mode: \"onBlur\",\n  });\n  const [isCreating, setIsCreating] = useState<Boolean>(false);\n  const [authError, setAuthError] = useState<string | null>(null);\n\n  const onSubmit = async () => {\n    const { email, password, password2 } = getValues();\n    try {\n      if (isCreating) {\n        if (password === password2) {\n          const data = await firebaseAuth.createUserWithEmailAndPassword(\n            email,\n            password\n          );\n        } else {\n          setAuthError(\"Please verify your password\");\n        }\n      } else {\n        const data = await firebaseAuth.signInWithEmailAndPassword(\n          email,\n          password\n        );\n      }\n    } catch (e) {\n      setAuthError(e.message);\n    }\n  };\n\n  const onSocialClick = async (event: any) => {\n    const {\n      target: { name },\n    } = event;\n\n    try {\n      let provider = null;\n      if (name === \"google\") {\n        provider = new firebaseInstance.auth.GoogleAuthProvider();\n      } else if (name === \"github\") {\n        provider = new firebaseInstance.auth.GithubAuthProvider();\n      }\n\n      if (provider) await firebaseAuth.signInWithPopup(provider);\n    } catch (error) {\n      setAuthError(error.message);\n    }\n  };\n\n  return (\n    <div className=\"w-full flex flex-col items-center\">\n      <div className=\"w-full max-w-screen-sm flex flex-col items-center mt-32\">\n        <div className=\"w-full h-16 text-2xl italic bg-gray-700 text-white flex items-center justify-center\">\n          {isCreating ? \"Create Account\" : \"Log in\"}\n        </div>\n        <form\n          className=\"w-full  flex flex-col py-6 px-4 border border-gray-200\"\n          method=\"post\"\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div className=\"flex flex-col items-start w-full mb-4\">\n            <input\n              className=\"border border-gray-400 py-3 px-2 text-lg w-full outline-none\"\n              ref={register({\n                required: true,\n                pattern: {\n                  value: /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\n                  message: \"Please write valid email address\",\n                },\n              })}\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              required\n            />\n            {errors.email && (\n              <span className=\"text-red-600 italic text-sm font-thin\">\n                {errors.email.message}\n              </span>\n            )}\n          </div>\n          <div className=\"flex flex-col items-start w-full mb-4\">\n            <input\n              className=\"border border-gray-400 py-3 px-2 text-lg w-full outline-none\"\n              ref={register({\n                required: true,\n\n                minLength: {\n                  value: 8,\n                  message: \"Password must be longer than 8 length.\",\n                },\n                maxLength: {\n                  value: 16,\n                  message: \"Password must be shorter than 16 length.\",\n                },\n              })}\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              required\n            />\n            {errors.password && (\n              <span className=\"text-red-600 italic text-sm font-thin\">\n                {errors.password.message}\n              </span>\n            )}\n          </div>\n          {isCreating && (\n            <div className=\"flex flex-col items-start w-full mb-4\">\n              <input\n                className=\"border border-gray-400 py-3 px-2 text-lg w-full outline-none\"\n                ref={register({\n                  required: true,\n                  minLength: {\n                    value: 8,\n                    message: \"Password must be longer than 8 length.\",\n                  },\n                  maxLength: {\n                    value: 16,\n                    message: \"Password must be shorter than 16 length.\",\n                  },\n                })}\n                type=\"password\"\n                name=\"password2\"\n                placeholder=\"Verify password\"\n                required\n              />\n              {errors.password2 && (\n                <span className=\"text-red-600 italic text-sm font-thin\">\n                  {errors.password2.message}\n                </span>\n              )}\n            </div>\n          )}\n          {authError && (\n            <div className=\"w-full text-red-600 mb-4\">\n              <span>{authError}</span>\n            </div>\n          )}\n          <button className=\"mx-auto w-1/2 text-center text-xl py-5 bg-blue-200 text-blue-400 hover:bg-blue-600 hover:text-blue-200 transition duration-200\">\n            {isCreating ? \"Create Account\" : \"Log in\"}\n          </button>\n        </form>\n        <div className=\"w-full py-4 flex justify-around\">\n          <button\n            onClick={onSocialClick}\n            name=\"google\"\n            className=\"py-4 text-center text-xl bg-red-600 text-white px-4 hover:bg-red-400 transition duration-200\"\n          >\n            <FontAwesomeIcon\n              className=\"mr-2 border border-white rounded-full p-1 text-2xl\"\n              icon={faGoogle}\n            />\n            Continue with Google\n          </button>\n          <button\n            onClick={onSocialClick}\n            name=\"github\"\n            className=\"py-4 text-center text-xl bg-gray-800 text-white px-4 hover:bg-gray-600 transition duration-200\"\n          >\n            <FontAwesomeIcon icon={faGithub} className=\"mr-2\" />\n            Continue with Github\n          </button>\n        </div>\n        <div className=\"text-xl\">\n          <p>\n            {isCreating\n              ? \"You already have account? Then, \"\n              : \"Don't you have any account? Then, \"}\n            <span\n              className=\" cursor-pointer text-blue-500 hover:font-bold\"\n              onClick={() => setIsCreating(!isCreating)}\n            >\n              {isCreating ? \"Log in\" : \"Create account.\"}\n            </span>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { faEdit, faTrash } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { firebaseAuth, firebaseFS, firebaseStorage } from \"firebase.app\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\n\nimport { INweet } from \"routes/home\";\n\ninterface INweetComponent extends INweet {}\n\ninterface IEdit {\n  text: string;\n}\n\nexport const Nweet: React.FC<INweetComponent> = ({\n  id,\n  creatorId,\n  createdAt,\n  nweet,\n  imageUrl,\n}) => {\n  const { register, getValues, setValue, watch } = useForm<IEdit>();\n  const [isEditing, setIsEditing] = useState<Boolean>(false);\n  const [editText, setEditText] = useState<string>(nweet);\n  const [imagePath, setImagePath] = useState<string | null>(null);\n\n  const getImageUrl = async () => {\n    if (imageUrl) {\n      setImagePath(\n        await firebaseStorage\n          .ref()\n          .child(`${creatorId}/${imageUrl}`)\n          .getDownloadURL()\n      );\n    } else {\n      setImagePath(\"/noimage.png\");\n    }\n  };\n\n  useEffect(() => {\n    getImageUrl();\n  }, []);\n\n  const onDeleteClick = async (id: string) => {\n    const ok = window.confirm(\"Are you sure you want to delete this nweet?\");\n    if (ok) {\n      if (imageUrl) {\n        await firebaseStorage\n          .ref()\n          .child(`${firebaseAuth.currentUser?.uid}/${imageUrl}`)\n          .delete();\n      }\n\n      await firebaseFS.collection(\"nweets\").doc(id).delete();\n    }\n  };\n\n  const onEditDone = async (id: string) => {\n    const { text } = getValues();\n    await firebaseFS.collection(\"nweets\").doc(id).update({\n      nweet: text,\n    });\n    setIsEditing(false);\n  };\n\n  const onEditStart = () => {\n    setEditText(nweet);\n    setIsEditing(true);\n  };\n\n  return (\n    <div className=\"w-full flex flex-start items-center py-2\">\n      {isEditing ? (\n        <input\n          ref={register()}\n          placeholder=\"Write yours\"\n          className=\"w-full p-1 border border-gray-500 outline-none\"\n          value={editText}\n          onChange={(e) => setEditText(e.target.value)}\n          name=\"text\"\n          type=\"text\"\n        />\n      ) : (\n        <div className=\"flex items-center w-full border border-gray-400\">\n          <div className=\" border-r  border-gray-400  h-28 w-32 mr-2 p-1 flex justify-center items-center\">\n            {imagePath ? (\n              <img className=\"w-full h-full\" src={imagePath} alt={`${nweet}`} />\n            ) : (\n              <></>\n            )}\n          </div>\n          <div className=\"w-full\">{nweet}</div>\n        </div>\n      )}\n      <div className=\"w-20 flex \">\n        {firebaseAuth?.currentUser?.uid === creatorId &&\n          (isEditing ? (\n            <button\n              className=\"ml-2 w-full p-1 text-center bg-blue-400 text-white hover:bg-blue-600 transition duration-200\"\n              onClick={() => onEditDone(id)}\n            >\n              Done\n            </button>\n          ) : (\n            <>\n              <button className=\"mr-2 w-10\" onClick={() => onDeleteClick(id)}>\n                <FontAwesomeIcon icon={faTrash} />\n              </button>\n              <button className=\"w-10\" onClick={() => onEditStart()}>\n                <FontAwesomeIcon icon={faEdit} />\n              </button>\n            </>\n          ))}\n      </div>\n    </div>\n  );\n};\n","import { Nweet } from \"components/Nweet\";\nimport { firebaseAuth, firebaseFS, firebaseStorage } from \"firebase.app\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { v4 as uuidv4 } from \"uuid\";\n\ninterface IMessageForm {\n  message: string;\n  files: File[];\n}\n\nexport interface INweet {\n  id: string;\n  creatorId: string;\n  nweet: string;\n  createdAt: Date;\n  imageUrl?: string | null;\n}\n\nexport const Home = () => {\n  const {\n    register,\n    handleSubmit,\n    getValues,\n    errors,\n    reset,\n  } = useForm<IMessageForm>();\n  const [nweets, setNweets] = useState<INweet[]>([]);\n  const [imageData, setImageData] = useState<string | null>(null);\n\n  const onSubmit = async () => {\n    const { message, files } = getValues();\n\n    let fileName = null;\n\n    if (imageData) {\n      fileName = uuidv4();\n      const fileRef = firebaseStorage\n        .ref()\n        .child(`${firebaseAuth.currentUser?.uid}/${fileName}`);\n      await fileRef.putString(imageData, \"data_url\");\n    }\n\n    await firebaseFS.collection(\"nweets\").add({\n      nweet: message,\n      creatorId: firebaseAuth.currentUser?.uid,\n      createdAt: Date.now(),\n      imageUrl: fileName,\n    });\n\n    reset();\n    setImageData(null);\n  };\n\n  const onFileChange = () => {\n    const { files } = getValues();\n    const file = files[0];\n\n    const reader = new FileReader();\n    // @ts-ignore\n    reader.onloadend = (ev) => setImageData(ev.currentTarget.result);\n    reader.readAsDataURL(file);\n  };\n\n  const getNweets = async () => {\n    setNweets([]);\n    const nweetsFromFS = await firebaseFS\n      .collection(\"nweets\")\n      .orderBy(\"createdAt\", \"asc\")\n      .get();\n    nweetsFromFS.forEach((document) => {\n      const { nweet, createdAt, creatorId, id, imageUrl } = document.data();\n      setNweets((prev) => [\n        { nweet, createdAt, creatorId, id, imageUrl },\n        ...prev,\n      ]);\n    });\n  };\n\n  useEffect(() => {\n    firebaseFS\n      .collection(\"nweets\")\n      //.where(\"creatorId\", \"==\", firebaseAuth.currentUser?.uid)\n      .orderBy(\"createdAt\", \"asc\")\n      .onSnapshot((snapshot) => {\n        snapshot.docChanges().forEach((change) => {\n          if (change.type === \"added\") {\n            const { creatorId, nweet, createdAt, imageUrl } = change.doc.data();\n            setNweets((prev) => [\n              { id: change.doc.id, creatorId, nweet, createdAt, imageUrl },\n              ...prev,\n            ]);\n          }\n          if (change.type === \"removed\") {\n            setNweets((prev) =>\n              prev.filter((nweet) => nweet.id !== change.doc.id)\n            );\n          }\n          if (change.type === \"modified\") {\n            setNweets((prev) => {\n              const index = prev.findIndex((nweet) => {\n                return nweet.id === change.doc.id;\n              });\n              if (index > -1) {\n                const { nweet } = change.doc.data();\n                prev[index] = { ...prev[index], nweet };\n              }\n\n              return [...prev];\n            });\n          }\n        });\n      });\n  }, []);\n\n  return (\n    <div className=\"w-full flex flex-col max-h-screen overflow-y-scroll\">\n      <div className=\"w-full max-w-screen-sm flex flex-col items-start mt-4 mb-4\">\n        <div className=\"p-1 w-32 h-32 border border-gray-400 self-center mb-2 flex justify-center items-center\">\n          {imageData && (\n            <img className=\"w-full h-full\" src={imageData} alt=\"from user\" />\n          )}\n        </div>\n        <form\n          className=\"w-full flex flex-col px-2\"\n          onSubmit={handleSubmit(onSubmit)}\n        >\n          <div className=\"flex flex-col items-start w-full mr-2 mb-2\">\n            <input\n              className=\"border border-gray-400 py-3 px-2 text-lg w-full outline-none\"\n              ref={register()}\n              name=\"files\"\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={onFileChange}\n            />\n          </div>\n          <div className=\"w-full flex\">\n            <div className=\"flex flex-col items-start w-full mr-2\">\n              <input\n                className=\"border border-gray-400 py-3 px-2 text-lg w-full outline-none\"\n                ref={register()}\n                name=\"message\"\n                type=\"text\"\n                placeholder=\"What's on your mind?\"\n              />\n            </div>\n            <button className=\"mx-auto text-center text-sm px-2 bg-blue-200 text-blue-400 hover:bg-blue-600 hover:text-blue-200 transition duration-200\">\n              Nweet\n            </button>\n          </div>\n        </form>\n        <div className=\"mt-4 px-2 w-full\">\n          {nweets?.length > 0 ? (\n            <div>\n              {nweets.map((nweet) => (\n                <Nweet key={nweet.id} {...nweet} />\n              ))}\n            </div>\n          ) : (\n            <div>No Message</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faUserAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { firebaseAuth } from \"firebase.app\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\ninterface IProfileText {\n  displayName?: string | null;\n  email?: string | null;\n  photoUrl?: string | null;\n}\n\nexport const AppNavigation: React.FC<IProfileText> = ({\n  displayName,\n  email,\n  photoUrl,\n}) => {\n  return (\n    <nav className=\"w-full p-4 bg-blue-400 text-white text-2xl\">\n      <ul className=\"w-full flex justify-between\">\n        <li>\n          <Link to=\"/\">\n            <FontAwesomeIcon icon={faTwitter} />\n          </Link>\n        </li>\n        <li>\n          <Link to=\"/profile\" className=\"flex items-center group\">\n            {photoUrl ? (\n              <div\n                className=\"w-8 h-8 rounded-full bg-cover bg-center mr-2\"\n                style={{ backgroundImage: `url(${photoUrl})` }}\n              ></div>\n            ) : (\n              <FontAwesomeIcon icon={faUserAlt} className=\"mr-2\" />\n            )}\n            <span className=\"text-sm group-hover:underline\">\n              {displayName}({email})\n            </span>\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n","import { firebaseAuth, firebaseStorage } from \"firebase.app\";\nimport React, { useRef, useState } from \"react\";\nimport { IProfileText } from \"components/App\";\nimport { PreviousMap } from \"postcss\";\n\ninterface IProfile {\n  setProfileText: React.Dispatch<IProfileText>;\n  profileText: IProfileText;\n}\n\nexport const Profile: React.FC<IProfile> = ({\n  setProfileText,\n  profileText,\n}) => {\n  const [isEditing, setIsEditing] = useState<Boolean>(false);\n  const [inputName, setInputName] = useState<string>(\"\");\n\n  const fileRef = useRef<HTMLInputElement>(null);\n  const onLogOutClick = () => firebaseAuth.signOut();\n  const onNameChangeClick = () => {\n    setIsEditing(true);\n    if (profileText && profileText.displayName)\n      setInputName(profileText?.displayName);\n  };\n  const onNameChangeDone = async () => {\n    if (\n      inputName &&\n      Boolean(inputName) &&\n      inputName !== profileText.displayName\n    ) {\n      setProfileText({\n        displayName: inputName,\n        email: profileText.email,\n      });\n      await firebaseAuth?.currentUser?.updateProfile({\n        displayName: inputName,\n        photoURL: firebaseAuth.currentUser.photoURL,\n      });\n    }\n    setIsEditing(false);\n  };\n\n  const onPhotoChange = () => {\n    if (fileRef.current && fileRef.current.files) {\n      const file: File = fileRef?.current?.files[0];\n      const fileReader = new FileReader();\n      let imageData = null;\n      fileReader.readAsDataURL(file);\n      fileReader.onloadend = async (ev) => {\n        imageData = ev.target?.result;\n        if (typeof imageData === \"string\") {\n          if (imageData) {\n            const uploadTask = await firebaseStorage\n              .ref()\n              .child(`${firebaseAuth.currentUser?.uid}/profile`)\n              .putString(imageData, \"data_url\");\n            const photoURL: string = await uploadTask.ref.getDownloadURL();\n            firebaseAuth.currentUser?.updateProfile({\n              photoURL,\n            });\n            setProfileText({ ...profileText, photoUrl: photoURL });\n          }\n        }\n      };\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col w-full mt-4 p-2\">\n      <div className=\"flex flex-col justify-center items-center w-full\">\n        <button\n          className=\"w-full py-3 bg-blue-400 text-white hover:bg-blue-600 transition duration-200 mb-4\"\n          onClick={onLogOutClick}\n        >\n          Logout\n        </button>\n        <div\n          className=\"border bg-cover bg-center w-32 h-32 rounded-full  border-gray-400\"\n          style={{\n            backgroundImage: `url(${profileText.photoUrl})`,\n          }}\n        ></div>\n        <input\n          name=\"files\"\n          type=\"file\"\n          accept=\"image/*\"\n          className=\"hidden\"\n          ref={fileRef}\n          onChange={onPhotoChange}\n        />\n\n        <button\n          onClick={() => fileRef.current?.click()}\n          className=\"mt-2 bg-blue-400 text-white hover:bg-blue-600 px-2 py-3 transition duration-200\"\n        >\n          Change Photo\n        </button>\n      </div>\n      <div className=\"border mt-10 flex flex-col p-4 relative items-center\">\n        <div className=\"absolute -top-4 py-2 px-2 bg-indigo-400 text-white rounded-lg\">\n          Profile\n        </div>\n        <div className=\"w-full flex flex-col items-start justify-start mt-4\">\n          <div className=\"w-full flex items-center py-3\">\n            {isEditing ? (\n              <>\n                <input\n                  type=\"text\"\n                  className=\"w-full p-2 outline-none border border-gray-200 mr-3\"\n                  name=\"inputName\"\n                  value={inputName}\n                  onChange={(e) => setInputName(e.target.value)}\n                />\n                <button\n                  onClick={onNameChangeDone}\n                  className=\"bg-blue-400 text-white hover:bg-blue-600 px-2 py-2\"\n                >\n                  Done\n                </button>\n              </>\n            ) : (\n              <>\n                <span className=\"w-full\">\n                  Display Name: {profileText.displayName}\n                </span>\n                <button\n                  onClick={onNameChangeClick}\n                  className=\"bg-blue-400 text-white hover:bg-blue-600 px-2 py-2\"\n                >\n                  Change\n                </button>\n              </>\n            )}\n          </div>\n          <div className=\"w-full flex items-center py-3\">\n            <span>Email: {profileText.email}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from \"react-router-dom\";\nimport { Auth } from \"../routes/auth\";\nimport { Home } from \"../routes/home\";\nimport firebase from \"firebase\";\nimport { AppNavigation } from \"./Navigation\";\nimport { Profile } from \"routes/profile\";\nimport { firebaseAuth } from \"firebase.app\";\nimport { IProfileText } from \"./App\";\n\ninterface IAppRouter {\n  isLoggedIn: Boolean;\n  profileText: IProfileText;\n  setProfileText: React.Dispatch<IProfileText>;\n}\n\nexport const AppRouter: React.FC<IAppRouter> = ({\n  isLoggedIn,\n  profileText,\n  setProfileText,\n}) => {\n  return (\n    <Router>\n      {isLoggedIn && (\n        <AppNavigation\n          displayName={profileText.displayName}\n          email={profileText.email}\n          photoUrl={profileText.photoUrl}\n        />\n      )}\n      {isLoggedIn ? (\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/profile\">\n            <Profile\n              setProfileText={setProfileText}\n              profileText={profileText}\n            />\n          </Route>\n          <Redirect from=\"*\" to=\"/\" />\n        </Switch>\n      ) : (\n        <Switch>\n          <Route exact path-=\"/\">\n            <Auth />\n          </Route>\n        </Switch>\n      )}\n    </Router>\n  );\n};\n","import { firebaseAuth } from \"firebase.app\";\nimport firebase from \"firebase\";\nimport React, { useEffect, useState } from \"react\";\nimport { AppRouter } from \"./Router\";\n\nexport interface IProfileText {\n  displayName?: string | null;\n  email?: string | null;\n  photoUrl?: string | null;\n}\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState<firebase.User | null>(\n    firebaseAuth.currentUser\n  );\n  const [profileText, setProfileText] = useState<IProfileText>({\n    displayName: firebaseAuth.currentUser?.displayName,\n    email: firebaseAuth.currentUser?.email,\n  });\n\n  useEffect(() => {\n    firebaseAuth.onAuthStateChanged((user) => {\n      setLoggedIn(user);\n      setProfileText({\n        displayName: user?.displayName,\n        email: user?.email,\n        photoUrl: user?.photoURL,\n      });\n    });\n  }, []);\n\n  return (\n    <div className=\"w-screen flex justify-center\">\n      <div className=\"w-full min-w-min max-w-screen-sm border border-gray-400\">\n        <AppRouter\n          profileText={profileText}\n          setProfileText={setProfileText}\n          isLoggedIn={Boolean(loggedIn)}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"firebase.app\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}